import{u as m,_ as E}from"./index.725662f4.js";import{C as H,_ as Z,b as P,a as R}from"./plugin-vueexport-helper.5e9c693a.js";import{d as y,g as c,O as g,c as z,Y as L,aa as A,N as G,o,e as n,n as t,z as K,h as s,y as u,f as i,V as _,W as Q,ab as Y,ac as N,ad as q,ae as J,af as X,Z as d,b as p,ag as x,a as ee,U as ae,t as te,a9 as oe,_ as ne,$ as re}from"./index.1f15eec1.js";var se={value:{type:Number,default:0},opacity:{type:Number,default:0},error:{type:Boolean,default:!1},color:{type:String},errorColor:{type:String},height:{type:[Number,String]},top:{type:[Number,String]}},{classes:ie,n:B}=z("loading-bar");const le=y({name:"VarLoadingBar",props:se,setup(e){return()=>c("div",{class:ie(B(),[e.error,B("--error")]),style:{zIndex:H.zIndex+10,width:e.value+"%",opacity:e.opacity,height:g(e.height),backgroundColor:e.error?e.errorColor:e.color,top:g(e.top)}},null)}});var I,C,T={},ue={value:0,opacity:0,error:!1},a=L(ue),de=e=>{Object.assign(a,e)},ce=e=>{Object.assign(a,e),T=e},fe=()=>{Object.keys(T).forEach(e=>{a[e]!==void 0&&(a[e]=void 0)})},V=()=>{I=window.setTimeout(()=>{if(!(a.value>=95)){var e=Math.random();a.value<70&&(e=Math.round(5*Math.random())),a.value+=e,V()}},200)},ve=()=>{C||(C=!0,A(le,a)),(!a.error||a.value===100)&&(a.value=0),setTimeout(()=>{a.opacity=1},200),V()},me=()=>{a.value=100,setTimeout(()=>{a.opacity=0,setTimeout(()=>{a.error=!1},250)},300),window.clearTimeout(I)},pe=()=>{a.error=!0,h.start(),setTimeout(h.finish,300)},h={start:ve,finish:me,error:pe,mergeConfig:de,setDefaultOptions:ce,resetDefaultOptions:fe};const ge=h;var he={loading:{type:Boolean,default:!0},title:{type:Boolean,default:!1},card:{type:Boolean,default:!1},avatar:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},fullscreenZIndex:{type:[Number,String],default:100},titleWidth:{type:[Number,String]},cardHeight:{type:[Number,String]},avatarSize:{type:[Number,String]},rows:{type:[Number,String],default:3},rowsWidth:{type:Array,default:()=>[]}},{n:ye,classes:Se}=z("skeleton");function ke(e,S){return o(),n("div",{class:t(e.classes(e.n("$--box"),e.n()))},[e.loading?s("v-if",!0):(o(),n("div",{key:0,class:t(e.n("data"))},[K(e.$slots,"default")],2)),e.loading&&!e.fullscreen?(o(),n("div",{key:1,class:t(e.n("content"))},[e.card?(o(),n("div",{key:0,class:t(e.n("card")),style:u({height:e.toSizeUnit(e.cardHeight)})},[i("div",{class:t(e.n("--animation"))},null,2)],6)):s("v-if",!0),e.avatar||e.title||e.toNumber(e.rows)>0?(o(),n("div",{key:1,class:t(e.n("article"))},[e.avatar?(o(),n("div",{key:0,class:t(e.n("avatar")),style:u({width:e.toSizeUnit(e.avatarSize),height:e.toSizeUnit(e.avatarSize)})},[i("div",{class:t(e.n("--animation"))},null,2)],6)):s("v-if",!0),e.title||e.toNumber(e.rows)>0?(o(),n("div",{key:1,class:t(e.n("section"))},[e.title?(o(),n("div",{key:0,class:t(e.n("title")),style:u({width:e.toSizeUnit(e.titleWidth)})},[i("div",{class:t(e.n("--animation"))},null,2)],6)):s("v-if",!0),(o(!0),n(_,null,Q(e.toNumber(e.rows),(f,l)=>(o(),n("div",{class:t(e.n("row")),key:f,style:u({width:e.toSizeUnit(e.rowsWidth[l])})},[i("div",{class:t(e.n("--animation"))},null,2)],6))),128))],2)):s("v-if",!0)],2)):s("v-if",!0)],2)):s("v-if",!0),e.loading&&e.fullscreen?(o(),n("div",{key:2,class:t(e.n("fullscreen")),style:u({zIndex:e.toNumber(e.fullscreenZIndex)})},[i("div",{class:t(e.n("--animation"))},null,2)],6)):s("v-if",!0)],2)}var $=y({name:"VarSkeleton",props:he,setup(){return{n:ye,classes:Se,toSizeUnit:g,toNumber:G}}});$.render=ke;const v=$;v.install=function(e){e.component(v.name,v)};var be=v;const we=e=>(ne("data-v-4e28bd73"),e=e(),re(),e),Ne=["loading"],Be=we(()=>i("h3",null," \u6B63\u5728\u767B\u5F55\u81F3 ",-1)),Ce={key:1},ze=y({__name:"Login",setup(e){const{push:S}=oe(),f=m("code",""),l=m("from"),O=m("method");L({code:f.value});const U=(r,j)=>{S({path:"/profile"})},W=Y(),k=x();ge.start(),O.value==="1"?k.login(new N(void 0,new q(f.value))).then(r=>{console.log(r),U(),W.set("HIKIT",r.access_token,{domain:".hikit.io"})}).catch(r=>{console.log(r)}):k.login(new N(new J("",""))).then(r=>{console.log(r)}).catch(r=>{console.log(r)});const[b,Le]=X(!1);return(r,j)=>{const F=be,M=P,D=E,w=Z;return o(),n(_,null,[c(F,{fullscreen:"",loading:d(b)},null,8,["loading"]),i("div",{class:"card",loading:d(b)},[c(M,{type:"wave"}),c(w,{direction:"column"},{default:p(()=>[d(l)?(o(),ee(w,{key:0,justify:"center"},{default:p(()=>[Be,i("h3",null,[c(D,{type:"info",href:d(l).toString()},{default:p(()=>[ae(te(d(l)),1)]),_:1},8,["href"])])]),_:1})):(o(),n("h3",Ce," \u6B63\u5728\u767B\u5F55 "))]),_:1})],8,Ne)],64)}}});const Ve=R(ze,[["__scopeId","data-v-4e28bd73"]]);export{Ve as default};
