import{a6 as Y,c as $,i as k,d as B,r as C,w as j,a7 as X,E as g,F as D,o as R,a as N,n as v,y as E,a8 as M,A as q,B as y,s as G,v as H,x as W,e as J,h as K,f as Q,z as Z,q as z,Y as _}from"./index.c295762c.js";import{C as U,p as b,L as x}from"./plugin-vueexport-helper.bd72580e.js";function f(){return f=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e},f.apply(this,arguments)}var{n:F}=$("ripple"),L=250;function ee(e){var{zIndex:n,position:a}=window.getComputedStyle(e);e.style.overflow="hidden",e.style.overflowX="hidden",e.style.overflowY="hidden",a==="static"&&(e.style.position="relative"),n==="auto"&&(e.style.zIndex="1")}function ne(e,n){var{top:a,left:t}=e.getBoundingClientRect(),{clientWidth:l,clientHeight:r}=e,o=Math.sqrt(Math.pow(l,2)+Math.pow(r,2))/2,s=o*2,i=n.touches[0].clientX-t,u=n.touches[0].clientY-a,h=(l-o*2)/2,d=(r-o*2)/2,p=i-o,P=u-o;return{x:p,y:P,centerX:h,centerY:d,size:s}}function O(e){var n=this._ripple;if(n.removeRipple(),!(n.disabled||n.tasker)){var a=()=>{n.tasker=null;var{x:t,y:l,centerX:r,centerY:o,size:s}=ne(this,e),i=document.createElement("div");i.classList.add(F()),i.style.opacity="0",i.style.transform="translate("+t+"px, "+l+"px) scale3d(.3, .3, .3)",i.style.width=s+"px",i.style.height=s+"px",n.color&&(i.style.backgroundColor=n.color),i.dataset.createdAt=String(performance.now()),ee(this),this.appendChild(i),window.setTimeout(()=>{i.style.transform="translate("+r+"px, "+o+"px) scale3d(1, 1, 1)",i.style.opacity=".25"},20)};n.tasker=window.setTimeout(a,30)}}function S(){var e=this._ripple,n=()=>{var a=this.querySelectorAll("."+F());if(!!a.length){var t=a[a.length-1],l=L-performance.now()+Number(t.dataset.createdAt);setTimeout(()=>{t.style.opacity="0",setTimeout(()=>{var r;return(r=t.parentNode)==null?void 0:r.removeChild(t)},L)},l)}};e.tasker?setTimeout(n,30):n()}function A(){var e=this._ripple;!Y()||!e.touchmoveForbid||(e.tasker&&window.clearTimeout(e.tasker),e.tasker=null)}function ae(e,n){var a,t,l;e._ripple=f({tasker:null},(a=n.value)!=null?a:{},{touchmoveForbid:(t=(l=n.value)==null?void 0:l.touchmoveForbid)!=null?t:U.touchmoveForbid,removeRipple:S.bind(e)}),e.addEventListener("touchstart",O,{passive:!0}),e.addEventListener("touchmove",A,{passive:!0}),e.addEventListener("dragstart",S,{passive:!0}),document.addEventListener("touchend",e._ripple.removeRipple,{passive:!0}),document.addEventListener("touchcancel",e._ripple.removeRipple,{passive:!0})}function te(e){e.removeEventListener("touchstart",O),e.removeEventListener("touchmove",A),e.removeEventListener("dragstart",S),document.removeEventListener("touchend",e._ripple.removeRipple),document.removeEventListener("touchcancel",e._ripple.removeRipple)}function re(e,n){var a,t,l,r,o,s,i,u={touchmoveForbid:(a=(t=n.value)==null?void 0:t.touchmoveForbid)!=null?a:U.touchmoveForbid,color:(l=n.value)==null?void 0:l.color,disabled:(r=n.value)==null?void 0:r.disabled},h=u.touchmoveForbid!==((o=e._ripple)==null?void 0:o.touchmoveForbid)||u.color!==((s=e._ripple)==null?void 0:s.color)||u.disabled!==((i=e._ripple)==null?void 0:i.disabled);if(h){var d,p;e._ripple=f({tasker:u.disabled?null:(d=e._ripple)==null?void 0:d.tasker,removeRipple:(p=e._ripple)==null?void 0:p.removeRipple},u)}}var ie={mounted:ae,unmounted:te,updated:re,install(e){e.directive("ripple",this)}};const oe=ie;var le={name:{type:String},size:{type:[Number,String]},color:{type:String},namespace:{type:String,default:"var-icon"},transition:{type:[Number,String],default:0},onClick:k()};function T(e,n,a,t,l,r,o){try{var s=e[r](o),i=s.value}catch(u){a(u);return}s.done?n(i):Promise.resolve(i).then(t,l)}function se(e){return function(){var n=this,a=arguments;return new Promise(function(t,l){var r=e.apply(n,a);function o(i){T(r,t,l,o,s,"next",i)}function s(i){T(r,t,l,o,s,"throw",i)}o(void 0)})}}var{n:ue,classes:de}=$("icon");function pe(e,n){return R(),N(M(e.isURL(e.name)?"img":"i"),{class:v(e.classes(e.n(),[e.namespace!==e.n(),e.namespace],e.namespace+"--set",[e.isURL(e.name),e.n("image"),e.namespace+"-"+e.nextName],[e.shrinking,e.n("--shrinking")])),style:E({color:e.color,transition:"transform "+e.toNumber(e.transition)+"ms",width:e.isURL(e.name)?e.toSizeUnit(e.size):null,height:e.isURL(e.name)?e.toSizeUnit(e.size):null,fontSize:e.toSizeUnit(e.size)}),src:e.isURL(e.name)?e.nextName:null,onClick:e.onClick},null,8,["class","style","src","onClick"])}var I=B({name:"VarIcon",props:le,setup(e){var n=C(""),a=C(!1),t=function(){var l=se(function*(r,o){var{transition:s}=e;if(o==null||g(s)===0){n.value=r;return}a.value=!0,yield q(),setTimeout(()=>{o!=null&&(n.value=r),a.value=!1},g(s))});return function(o,s){return l.apply(this,arguments)}}();return j(()=>e.name,t,{immediate:!0}),{n:ue,classes:de,nextName:n,shrinking:a,isURL:X,toNumber:g,toSizeUnit:D}}});I.render=pe;const c=I;c.install=function(e){e.component(c.name,c)};var Re=c;function w(){return w=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e},w.apply(this,arguments)}function ve(e){return["default","primary","info","success","warning","danger"].includes(e)}function ce(e){return["normal","mini","small","large"].includes(e)}function me(e){return["button","reset","submit"].includes(e)}var fe={type:{type:String,default:"default",validator:ve},nativeType:{type:String,default:"button",validator:me},size:{type:String,default:"normal",validator:ce},loading:{type:Boolean,default:!1},round:{type:Boolean,default:!1},block:{type:Boolean,default:!1},text:{type:Boolean,default:!1},outline:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},ripple:{type:Boolean,default:!0},color:{type:String},textColor:{type:String},autoLoading:{type:Boolean,default:!1},loadingRadius:{type:[Number,String]},loadingType:y(b,"type"),loadingSize:y(b,"size"),loadingColor:w({},y(b,"color"),{default:"currentColor"}),onClick:k(),onTouchstart:k()},{n:he,classes:ge}=$("button"),ye=["type","disabled"];function be(e,n){var a=G("var-loading"),t=H("ripple");return W((R(),J("button",{class:v(e.classes(e.n(),e.n("$--box"),e.n("--"+e.size),[e.block,e.n("$--flex")+" "+e.n("--block"),e.n("$--inline-flex")],[e.disabled,e.n("--disabled")],[e.text,e.n("--text-"+e.type)+" "+e.n("--text"),e.n("--"+e.type)+" "+e.n("$-elevation--2")],[e.text&&e.disabled,e.n("--text-disabled")],[e.round,e.n("--round")],[e.outline,e.n("--outline")])),style:E({color:e.textColor,background:e.color}),type:e.nativeType,disabled:e.disabled,onClick:n[0]||(n[0]=function(){return e.handleClick&&e.handleClick(...arguments)}),onTouchstart:n[1]||(n[1]=function(){return e.handleTouchstart&&e.handleTouchstart(...arguments)})},[e.loading||e.pending?(R(),N(a,{key:0,class:v(e.n("loading")),"var-button-cover":"",color:e.loadingColor,type:e.loadingType,size:e.loadingSize,radius:e.loadingRadius},null,8,["class","color","type","size","radius"])):K("v-if",!0),Q("div",{class:v(e.classes(e.n("content"),[e.loading||e.pending,e.n("--hidden")]))},[Z(e.$slots,"default")],2)],46,ye)),[[t,{disabled:e.disabled||!e.ripple}]])}var V=B({name:"VarButton",components:{VarLoading:x},directives:{Ripple:oe},props:fe,setup(e){var n=C(!1),a=r=>{e.autoLoading&&(n.value=!0,r=_(r)?r:[r],Promise.all(r).then(()=>{n.value=!1}).catch(()=>{n.value=!1}))},t=r=>{var{loading:o,disabled:s,onClick:i}=e;!i||o||s||n.value||a(z(i,r))},l=r=>{var{loading:o,disabled:s,onTouchstart:i}=e;!i||o||s||n.value||a(z(i,r))};return{n:he,classes:ge,pending:n,handleClick:t,handleTouchstart:l}}});V.render=be;const m=V;m.install=function(e){e.component(m.name,m)};var Se=m;export{c as I,oe as R,Se as _,Re as a,le as p};
