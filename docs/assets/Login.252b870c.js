import{d as b,_ as w,Z as x,ac as C,Q as E,b as p,f as c,w as a,$ as n,ad as I,o as r,a as F,e as g,U as N,t as R,a0 as T,a1 as V,a2 as D,a3 as M,a7 as Q}from"./index.3c37bfbd.js";import"./LoadingSfc.d83c4016.js";import{_ as $}from"./space.faf3953b.js";import{u as i,_ as j}from"./index.406719bd.js";const z=s=>(D("data-v-23bae048"),s=s(),M(),s),A={class:"card"},P=z(()=>g("h3",null," \u6B63\u5728\u767B\u5F55\u81F3 ",-1)),U={key:1},Z=b({__name:"Login",setup(s){const{push:f}=T(),m=w(),u=i("code",""),e=i("from"),l=i("method");V(),x({code:u.value});const _=(o,t)=>{t?window.location.href=t:f("/profile")},h=()=>l.value==="1"?{github:{code:u.value}}:{email:{email:"",password:""}},{mutate:v,loading:L,onError:y,onDone:k}=C({variables:{by:h()}});return k(o=>{console.log(`[onLoginSuccess] ${o.data}`),o.data&&_(!1,e.value),console.log(o.errors)}),y(o=>{console.log("[onLoginError] "),console.log(o.message)}),E(()=>{m.get()?_(!1,e.value):l.value&&v()}),(o,t)=>{const B=j,d=$,S=I;return r(),p("div",A,[c(S,{loading:n(L),type:"wave",size:"large"},{description:a(()=>[c(d,{direction:"column"},{default:a(()=>[n(e)?(r(),F(d,{key:0,justify:"center"},{default:a(()=>[P,g("h3",null,[c(B,{type:"info",href:n(e).toString()},{default:a(()=>[N(R(n(e)),1)]),_:1},8,["href"])])]),_:1})):(r(),p("h3",U," \u6B63\u5728\u767B\u5F55 "))]),_:1})]),_:1},8,["loading"])])}}});const K=Q(Z,[["__scopeId","data-v-23bae048"]]);export{K as default};
