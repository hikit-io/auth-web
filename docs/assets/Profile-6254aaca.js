import{V as ae,ay as oe,l as T,d as S,I as re,R as H,x as K,N as L,c as Y,C as q,D as Q,E as W,o as l,f as u,r as v,n as i,h as a,j as g,g as b,t as h,F as j,B as k,k as J,m as se,az as ie,v as O,A as U,a3 as le,aA as de,aB as ce,aC as ue,ae as $,_ as pe,G as fe,aD as G,W as me,at as ve,ar as X,aE as _e,aF as ge,b as B,e as ye,w as c,al as be,aG as he,ao as Ce,am as ke,aH as M}from"./index-858efe07.js";import"./LoadingSfc-4ed993c7.js";function Se(e){ae(()=>{e()}),oe(()=>{e()})}var Be={title:{type:[Number,String]},icon:{type:String},description:{type:String},border:{type:Boolean,default:!1},borderOffset:{type:[Number,String]},iconClass:{type:String},titleClass:{type:String},descriptionClass:{type:String},extraClass:{type:String},ripple:{type:Boolean,default:!1},onClick:T()},{n:Te,classes:Le}=Y("cell");function $e(e,n){var o=q("var-icon"),t=Q("ripple");return W((l(),u("div",{class:i(e.classes(e.n(),[e.border,e.n("--border")],[e.onClick,e.n("--cursor")])),style:j(e.borderOffsetStyles),onClick:n[0]||(n[0]=function(){return e.handleClick&&e.handleClick(...arguments)})},[v(e.$slots,"icon",{},()=>[e.icon?(l(),u("div",{key:0,class:i(e.classes(e.n("icon"),e.iconClass))},[a(o,{name:e.icon},null,8,["name"])],2)):g("v-if",!0)]),b("div",{class:i(e.n("content"))},[v(e.$slots,"default",{},()=>[e.title?(l(),u("div",{key:0,class:i(e.classes(e.n("title"),e.titleClass))},h(e.title),3)):g("v-if",!0)]),v(e.$slots,"description",{},()=>[e.description?(l(),u("div",{key:0,class:i(e.classes(e.n("description"),e.descriptionClass))},h(e.description),3)):g("v-if",!0)])],2),e.$slots.extra?(l(),u("div",{key:0,class:i(e.classes(e.n("extra"),e.extraClass))},[v(e.$slots,"extra")],2)):g("v-if",!0)],6)),[[t,{disabled:!e.ripple}]])}var Z=S({name:"VarCell",components:{VarIcon:re},directives:{Ripple:H},props:Be,setup(e){var n=K(()=>e.borderOffset==null?{}:{"--cell-border-left":L(e.borderOffset),"--cell-border-right":L(e.borderOffset)}),o=t=>{k(e.onClick,t)};return{n:Te,classes:Le,toSizeUnit:L,borderOffsetStyles:n,handleClick:o}}});Z.render=$e;const x=Z;J(x);var Ie=x,Ne={loading:{type:Boolean,default:!1},immediateCheck:{type:Boolean,default:!0},finished:{type:Boolean,default:!1},error:{type:Boolean,default:!1},offset:{type:[String,Number],default:0},loadingText:{type:String},finishedText:{type:String},errorText:{type:String},onLoad:T(),"onUpdate:loading":T(),"onUpdate:error":T()},ze=Symbol("TAB_ITEM_BIND_LIST_KEY");function De(){var{parentProvider:e,bindParent:n,index:o}=se(ze);return{index:o,tabItem:e,bindTabItem:n}}function R(e,n,o,t,d,s,p){try{var f=e[s](p),r=f.value}catch(m){o(m);return}f.done?n(r):Promise.resolve(r).then(t,d)}function Ee(e){return function(){var n=this,o=arguments;return new Promise(function(t,d){var s=e.apply(n,o);function p(r){R(s,t,d,p,f,"next",r)}function f(r){R(s,t,d,p,f,"throw",r)}p(void 0)})}}var{n:Pe,classes:we}=Y("list");function Ae(e,n){var o=q("var-loading"),t=Q("ripple");return l(),u("div",{class:i(e.classes(e.n(),e.n("$--box"))),ref:"listEl"},[v(e.$slots,"default"),e.loading?v(e.$slots,"loading",{key:0},()=>[b("div",{class:i(e.n("loading"))},[b("div",{class:i(e.n("loading-text"))},h(e.dt(e.loadingText,e.pack.listLoadingText)),3),a(o,{size:"mini",radius:10})],2)]):g("v-if",!0),e.finished?v(e.$slots,"finished",{key:1},()=>[b("div",{class:i(e.n("finished"))},h(e.dt(e.finishedText,e.pack.listFinishedText)),3)]):g("v-if",!0),e.error?v(e.$slots,"error",{key:2},()=>[W((l(),u("div",{class:i(e.n("error")),onClick:n[0]||(n[0]=function(){return e.load&&e.load(...arguments)})},[$(h(e.dt(e.errorText,e.pack.listErrorText)),1)],2)),[[t]])]):g("v-if",!0),b("div",{class:i(e.n("detector")),ref:"detectorEl"},null,2)],2)}var ee=S({name:"VarList",directives:{Ripple:H},components:{VarLoading:ie},props:Ne,setup(e){var{tabItem:n,bindTabItem:o}=De(),t=O(null),d=O(null),s,p=()=>{k(e["onUpdate:error"],!1),k(e["onUpdate:loading"],!0),k(e.onLoad)},f=()=>{var{bottom:C}=G(s),{bottom:_}=G(d.value);return Math.floor(_)-me(e.offset)<=C},r=()=>{s.removeEventListener("scroll",m)},m=function(){var C=Ee(function*(){yield fe(),!(e.loading||e.finished||e.error||(n==null?void 0:n.current.value)===!1||!f())&&p()});return function(){return C.apply(this,arguments)}}();return k(o,{}),n&&U(()=>n.current.value,m),U(()=>[e.loading,e.error,e.finished],m),le(()=>{s=pe(t.value),s.addEventListener("scroll",m),e.immediateCheck&&m()}),Se(r),{pack:de,listEl:t,detectorEl:d,dt:ce,isNumber:ue,load:p,check:m,n:Pe,classes:we}}});ee.render=Ae;const ne=ee;J(ne);var Ve=ne;const Oe={class:"loading"},Ue=S({__name:"Loading",props:{loading:{type:Boolean}},setup(e){const n=e;return(o,t)=>{const d=ve;return l(),u("div",Oe,[a(d,{loading:n.loading??!1,type:"wave",description:"Loading",size:"large"},null,8,["loading"])])}}});const Ge=X(Ue,[["__scopeId","data-v-57d74696"]]),Me=["data-icon"],F=S({__name:"Icon",props:{name:{},size:{}},setup(e){const n=e;return(o,t)=>(l(),u("span",{class:"iconify","data-icon":`mdi-${n.name}`,style:j({fontSize:`${o.size}px`})},null,12,Me))}}),Re={class:"card"},Fe={key:1},He=S({__name:"Profile",setup(e){const{loading:n,result:o}=_e(),t=K(()=>{var r;return(r=o.value)==null?void 0:r.profile}),{mutate:d,loading:s}=ge(),p={confirm:()=>{d().then(r=>{M.success("Delete success")}).catch(r=>{M.error("Delete failed")})},cancel:()=>{},close:()=>{}},f=async()=>{p[await he({message:"After deleting the account, you will not be able to use the .hikit.io website.",title:"Are you sure?"})]()};return(r,m)=>{const C=Ge,_=Ce,y=Ie,te=Ve,I=ke,N=be;return l(),u("div",Re,[B(n)||B(s)?(l(),ye(C,{key:0,loading:B(n)||B(s)},null,8,["loading"])):(l(),u("div",Fe,[a(N,{direction:"column"},{default:c(()=>{var z;return[b("h1",null,"Hi, "+h((z=t.value)==null?void 0:z.name),1),a(te,null,{default:c(()=>{var D,E,P,w,A,V;return[a(y,{title:"ID",description:(D=t.value)==null?void 0:D.id,border:""},{icon:c(()=>[a(_,{name:"email-outlined",size:34})]),_:1},8,["description"]),a(y,{title:"Name",description:(E=t.value)!=null&&E.name?t.value.name:"Not setting",border:""},{extra:c(()=>[a(_,{name:"information-outline",size:30})]),_:1},8,["description"]),a(y,{title:"Email",description:(P=t.value)!=null&&P.email?t.value.email:"Not setting",border:""},{extra:c(()=>[a(_,{name:"information-outline",size:30})]),_:1},8,["description"]),a(y,{title:"Account",description:(w=t.value)==null?void 0:w.account,border:""},{extra:c(()=>[a(_,{name:"information-outline",size:30})]),_:1},8,["description"]),a(y,{title:"OTP",description:(A=t.value)!=null&&A.isOtp?"Bind":"Unbind",border:""},{extra:c(()=>[a(F,{name:"qrcode",size:30})]),_:1},8,["description"]),a(y,{title:"Github",description:(V=t.value)==null?void 0:V.account,border:""},{icon:c(()=>[a(F,{style:{margin:"5px"},name:"github",size:30})]),_:1},8,["description"])]}),_:1}),a(N,null,{default:c(()=>[a(I,{type:"primary"},{default:c(()=>[$(" Change Password")]),_:1}),a(I,{type:"danger",onClick:f},{default:c(()=>[$(" Delete Account")]),_:1})]),_:1})]}),_:1})]))])}}});const qe=X(He,[["__scopeId","data-v-154adac7"]]);export{qe as default};
